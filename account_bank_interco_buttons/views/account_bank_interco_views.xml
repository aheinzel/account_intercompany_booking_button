<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <!-- Inherit reconcile view: add allocate + view buttons in statusbar -->
  <record id="view_bank_stmt_line_reconcile_inherit_interco" model="ir.ui.view">
    <field name="name">account.bank.statement.line.reconcile.interco</field>
    <field name="model">account.bank.statement.line</field>
    <field name="inherit_id" ref="account_reconcile_oca.bank_statement_line_form_reconcile_view"/>
    <field name="arch" type="xml">
      <xpath expr="//div[contains(@class,'o_account_reconcile_oca_statusbar')]//div[contains(@class,'o_statusbar_buttons')]" position="inside">
        <button name="action_open_interco_allocate_wizard"
                type="object"
                string="Inter-co allocate"
                class="btn btn-secondary mx-1"
                invisible="is_reconciled"/>
        <button name="action_view_interco_moves"
                type="object"
                class="btn btn-outline-info mx-1">
          View interco moves (<field name="interco_move_count"/>)
        </button>
      </xpath>
    </field>
  </record>
</odoo>